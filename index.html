<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>AI Fishing Strategy</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #e0f7fa;
      color: #004d40;
      padding: 20px;
      max-width: 800px;
      margin: auto;
    }
    h1 {
      text-align: center;
    }
    label, select, input, button {
      display: block;
      margin: 10px 0;
      width: 100%;
      font-size: 16px;
    }
    #result, #baitSuggestion, #hookInfo {
      margin-top: 20px;
      padding: 15px;
      background: #fff3e0;
      border-left: 5px solid #ff6f00;
    }
    .lang-switch {
      margin-bottom: 10px;
      text-align: right;
    }
    .map {
      width: 100%;
      height: 300px;
      margin-top: 10px;
    }
    img.hook-img {
      width: 100px;
      margin-right: 10px;
      vertical-align: middle;
    }
  </style>
</head>
<body>
  <div class="lang-switch">
    <label>
      <select id="langSelect">
        <option value="en">English</option>
        <option value="hi">‡§π‡§ø‡§®‡•ç‡§¶‡•Ä</option>
        <option value="bn">‡¶¨‡¶æ‡¶Ç‡¶≤‡¶æ</option>
      </select>
    </label>
  </div>
  <h1 id="title">AI Fishing Strategy</h1>

  <button onclick="detectLocation()">üìç Detect My Location</button>
  <div id="locationName"></div>
  <div id="map" class="map"></div>

  <label id="dateLabel">Choose Date:</label>
  <input type="date" id="fishingDate">

  <button onclick="getFishingPrediction()" id="predictBtn">Get Prediction</button>

  <div id="result"></div>
  <div id="baitSuggestion"></div>
  <div id="hookInfo"></div>

  <script>
    let map;
    let selectedLatLng = null;
    let geocoder;

    const langData = {
      en: {
        title: "AI Fishing Strategy",
        dateLabel: "Choose Date:",
        predictBtn: "Get Prediction",
        resultTitle: "Fishing Prediction:",
        baitTitle: "Suggested Bait:",
        hookTitle: "Recommended Hooks:"
      },
      hi: {
        title: "‡§è‡§Ü‡§à ‡§Æ‡§õ‡§≤‡•Ä ‡§™‡§ï‡§°‡§º‡§®‡•á ‡§ï‡•Ä ‡§∞‡§£‡§®‡•Ä‡§§‡§ø",
        dateLabel: "‡§§‡§æ‡§∞‡•Ä‡§ñ ‡§ö‡•Å‡§®‡•á‡§Ç:",
        predictBtn: "‡§™‡•Ç‡§∞‡•ç‡§µ‡§æ‡§®‡•Å‡§Æ‡§æ‡§® ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§ï‡§∞‡•á‡§Ç",
        resultTitle: "‡§Æ‡§õ‡§≤‡•Ä ‡§™‡§ï‡§°‡§º‡§®‡•á ‡§ï‡•Ä ‡§∏‡§Ç‡§≠‡§æ‡§µ‡§®‡§æ:",
        baitTitle: "‡§∏‡•Å‡§ù‡§æ‡§è ‡§ó‡§è ‡§ö‡§æ‡§∞‡•á:",
        hookTitle: "‡§∏‡•Å‡§ù‡§æ‡§è ‡§ó‡§è ‡§ï‡§æ‡§Ç‡§ü‡•á:"
      },
      bn: {
        title: "‡¶è‡¶Ü‡¶á ‡¶Æ‡¶æ‡¶õ ‡¶ß‡¶∞‡¶æ‡¶∞ ‡¶ï‡ßå‡¶∂‡¶≤",
        dateLabel: "‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶®‡¶ø‡¶∞‡ßç‡¶¨‡¶æ‡¶ö‡¶® ‡¶ï‡¶∞‡ßÅ‡¶®:",
        predictBtn: "‡¶≠‡¶¨‡¶ø‡¶∑‡ßç‡¶Ø‡¶¶‡ßç‡¶¨‡¶æ‡¶£‡ßÄ ‡¶¶‡ßá‡¶ñ‡ßÅ‡¶®",
        resultTitle: "‡¶Æ‡¶æ‡¶õ ‡¶ß‡¶∞‡¶æ‡¶∞ ‡¶∏‡¶Æ‡ßç‡¶≠‡¶æ‡¶¨‡¶®‡¶æ:",
        baitTitle: "‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞‡¶ø‡¶∂‡¶ï‡ßÉ‡¶§È§å:",
        hookTitle: "‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞‡¶ø‡¶∂‡¶ï‡ßÉ‡¶§ ‡¶π‡ßÅ‡¶ï:"
      }
    };

    const moonPhases2025 = {
      "01-29": "Full Moon",
      "02-05": "Last Quarter",
      "02-13": "New Moon",
      "02-20": "First Quarter",
      "02-28": "Full Moon",
      "03-07": "Last Quarter",
      "03-13": "New Moon",
      "03-21": "First Quarter",
      "03-29": "Full Moon",
      "04-05": "Last Quarter",
      "04-12": "New Moon",
      "04-20": "First Quarter",
      "04-28": "Full Moon",
      "05-05": "Last Quarter",
      "05-11": "New Moon",
      "05-19": "First Quarter",
      "05-27": "Full Moon",
      "06-03": "Last Quarter",
      "06-10": "New Moon",
      "06-18": "First Quarter",
      "06-25": "Full Moon",
      "07-03": "Last Quarter",
      "07-09": "New Moon",
      "07-17": "First Quarter",
      "07-24": "Full Moon",
      "08-01": "Last Quarter",
      "08-08": "New Moon",
      "08-15": "First Quarter",
      "08-23": "Full Moon",
      "08-31": "Last Quarter",
      "09-07": "New Moon",
      "09-14": "First Quarter",
      "09-22": "Full Moon",
      "09-29": "Last Quarter",
      "10-06": "New Moon",
      "10-13": "First Quarter",
      "10-21": "Full Moon",
      "10-28": "Last Quarter",
      "11-04": "New Moon",
      "11-12": "First Quarter",
      "11-20": "Full Moon",
      "11-27": "Last Quarter",
      "12-04": "New Moon",
      "12-11": "First Quarter",
      "12-19": "Full Moon",
      "12-26": "Last Quarter"
    };

    function getMoonPhase(dateStr) {
      const date = new Date(dateStr);
      const key = date.toISOString().slice(5, 10);
      return moonPhases2025[key] || "Variable Phase";
    }

    document.getElementById('langSelect').addEventListener('change', (e) => {
      const lang = e.target.value;
      swapLanguage(lang);
    });

    function swapLanguage(lang) {
      const d = langData[lang];
      document.getElementById('title').innerText = d.title;
      document.getElementById('dateLabel').innerText = d.dateLabel;
      document.getElementById('predictBtn').innerText = d.predictBtn;
    }

    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), {
        center: { lat: 22.5726, lng: 88.3639 },
        zoom: 8,
      });
      geocoder = new google.maps.Geocoder();
      map.addListener("click", (e) => {
        selectedLatLng = e.latLng;
        getAddressFromLatLng(e.latLng);
      });
    }

    function detectLocation() {
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition((position) => {
          const pos = {
            lat: position.coords.latitude,
            lng: position.coords.longitude,
          };
          map.setCenter(pos);
          selectedLatLng = pos;
          getAddressFromLatLng(pos);
        });
      }
    }

    function getAddressFromLatLng(latlng) {
      geocoder.geocode({ location: latlng }, (results, status) => {
        if (status === "OK" && results[0]) {
          document.getElementById("locationName").innerText = `üìç ${results[0].formatted_address}`;
        }
      });
    }

    async function getFishingPrediction() {
      const lang = document.getElementById('langSelect').value;
      const date = document.getElementById('fishingDate').value;

      if (!selectedLatLng || !date) {
        alert("Please select a location and date.");
        return;
      }

      const temp = 26 + Math.random() * 5;
      const humidity = 60 + Math.random() * 30;
      const moonPhase = getMoonPhase(date);

      const times = [
        { time: "5:00 AM - 7:00 AM", chance: Math.round(Math.random() * 100) },
        { time: "6:00 PM - 8:00 PM", chance: Math.round(Math.random() * 100) }
      ];

      const species = [
        { name: "Rohu", bait: "Worms, Boilies", hook: "size 4" },
        { name: "Catla", bait: "Pellets, Dough", hook: "size 2" },
        { name: "Tilapia", bait: "Bread, Corn", hook: "size 6" }
      ];

      let langTexts = langData[lang];

      document.getElementById("result").innerHTML = `<strong>${langTexts.resultTitle}</strong><br>
        üå°Ô∏è Temp: ${temp.toFixed(1)}¬∞C<br>
        üíß Humidity: ${humidity.toFixed(0)}%<br>
        üåï Moon: ${moonPhase}<br>
        üïí Best Time:<br>
        ${times.map(t => `${t.time} - üéØ ${t.chance}%`).join('<br>')}`;

      document.getElementById("baitSuggestion").innerHTML = `<strong>${langTexts.baitTitle}</strong><br>
        ${species.map(s => `${s.name}: ${s.bait}`).join('<br>')}`;

      document.getElementById("hookInfo").innerHTML = `<strong>${langTexts.hookTitle}</strong><br>
        ${species.map(s => `<img class='hook-img' src='https://via.placeholder.com/100?text=Hook+${s.hook}' alt='Hook ${s.hook}'> ${s.name} - Hook ${s.hook}`).join('<br>')}`;
    }
  </script>
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&callback=initMap"></script>
</body>
</html>
